
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>06. Serverless streaming patterns Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-accordion/accordion.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="07-ORCHESTRATION.html" />
    
    
    <link rel="prev" href="05-NO-LAMBDA.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../WARMUPS.html">
            
                <a href="../WARMUPS.html">
            
                    
                    Warmups
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../day-1/">
            
                <a href="../day-1/">
            
                    
                    Day 1
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../day-1/1-SETUP.html">
            
                <a href="../day-1/1-SETUP.html">
            
                    
                    01. Setup your AWS Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../day-1/2-LAMBDA.html">
            
                <a href="../day-1/2-LAMBDA.html">
            
                    
                    02. Serverless app with AWS Lambda
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../day-1/3-CLOUDFORMATION.html">
            
                <a href="../day-1/3-CLOUDFORMATION.html">
            
                    
                    03. CloudFormation Infra as Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../day-1/4-APIGW.html">
            
                <a href="../day-1/4-APIGW.html">
            
                    
                    04. APIs withs API Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../day-1/5-DEBUG.html">
            
                <a href="../day-1/5-DEBUG.html">
            
                    
                    05. Debugging serverless apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../day-1/6-DYNAMODB.html">
            
                <a href="../day-1/6-DYNAMODB.html">
            
                    
                    06. DynamoDB a serverless database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../day-1/7-TESTING.html">
            
                <a href="../day-1/7-TESTING.html">
            
                    
                    07. Designing Testable Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../day-1/8-CICD.html">
            
                <a href="../day-1/8-CICD.html">
            
                    
                    08. CI/CD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="../day-1/9-DEPLOYMENT.html">
            
                <a href="../day-1/9-DEPLOYMENT.html">
            
                    
                    09. Deployment preferences
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    Day 2
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="01-UPLOAD-RECEIPTS.html">
            
                <a href="01-UPLOAD-RECEIPTS.html">
            
                    
                    01. Upload receipts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="02-EXTRACT-RECEIPT-TEXT.html">
            
                <a href="02-EXTRACT-RECEIPT-TEXT.html">
            
                    
                    02. Extract receipt text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="03-BACKGROUND-PROCESSING.html">
            
                <a href="03-BACKGROUND-PROCESSING.html">
            
                    
                    03. Performance optimization - background processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="04-COLD-START.html">
            
                <a href="04-COLD-START.html">
            
                    
                    04. Performance optimization - latency and cold starts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="05-NO-LAMBDA.html">
            
                <a href="05-NO-LAMBDA.html">
            
                    
                    05. Performance optimization - skip Lambdas
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.6" data-path="06-STREAMING.html">
            
                <a href="06-STREAMING.html">
            
                    
                    06. Serverless streaming patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="07-ORCHESTRATION.html">
            
                <a href="07-ORCHESTRATION.html">
            
                    
                    07. Orchestration using Step functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="08-MIGRATION.html">
            
                <a href="08-MIGRATION.html">
            
                    
                    08. The Enterprise Migration Path to Serverless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="09-WARDLEY-MAPS.html">
            
                <a href="09-WARDLEY-MAPS.html">
            
                    
                    09. Build or outsource - Designing a Serverless Architecture with Wardley Maps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="10-SERVERLESS-FOR-CFOS.html">
            
                <a href="10-SERVERLESS-FOR-CFOS.html">
            
                    
                    10. Business case for refactoring
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../CONCLUSION.html">
            
                <a href="../CONCLUSION.html">
            
                    
                    Conclusion
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >06. Serverless streaming patterns</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="serverless-streaming-patterns">Serverless streaming patterns</h1>
<p>Serverless applications are almost always event-driven. Event-driven apps are not new, and we built many of them using more traditional non-serverless architectures.</p>
<p>However, the biggest game-changer with serverless architecture is the pricing model where we pay only for used capacity. Serverless functions are cheap when people use them correctly. Instead of waiting for async tasks to finish in our serverless functions, we want to move these tasks to some background processes that will trigger one or multiple functions when they need data processing.</p>
<p>In AWS, we can use the following services to stream and process data in the background, without keeping our users waiting:</p>
<ol>
<li><a href="https://aws.amazon.com/sqs/" target="_blank"><strong>Amazon Simple Queue Service (SQS)</strong></a> is a fully managed message queuing service.</li>
<li><a href="https://aws.amazon.com/sns/" target="_blank"><strong>Amazon Simple Notification Service</strong></a> is a highly available, durable, secure, fully managed pub/sub messaging service that enables us to decouple microservices, distributed systems, and serverless applications.</li>
<li><a href="https://aws.amazon.com/eventbridge/" target="_blank"><strong>Amazon EventBridge</strong></a> is a serverless event bus that makes it easy to connect applications using data from our applications, integrated SaaS apps, and AWS services.</li>
<li><a href="https://aws.amazon.com/kinesis/" target="_blank"><strong>Amazon Kinesis</strong></a> makes it easy to collect, process, and analyze real-time, streaming data so we can get timely insights and react quickly to new information.</li>
</ol>
<p>Streaming services, message buses, and queues are excellent for background processing. But as serverless functions charge us per execution duration, these services can help us speed up processing large data sets faster by chunking data and using multiple tasks to handle it. In serverless, the cost for one function that runs for 1 minute is the same as the cost for 60 functions that run for 1 second, or 600 functions that run for 100 ms.</p>
<p>Streaming services, message buses, and queues are also helpful when we are building hybrid apps. As already mentioned, serverless functions scale fast, but most of our databases are not able to follow all the traffic peaks. For RDS databases on AWS infrastructure, we can use <a href="https://aws.amazon.com/rds/proxy/" target="_blank">Amazon RDS proxy</a>, a fully managed, highly available database proxy that makes our apps more scalable, more resilient to database failures, and more secure. But what if our database is hosted with another cloud vendor or on-premise?</p>
<h2 id="task">Task</h2>
<p>Our client loves our receipt app, but they have an on-premise database. They have a similar app that helps customers submit their expenses. The existing app works fine, but they have a high traffic peak near the end of January when their customers fill their taxes. They would love to add our receipt processing app that will allow their customers to upload a large number of receipt photos, process them fast, and store them in their on-premise database, but they are afraid that the high load will crash the database.</p>
<p>The following diagram represents our app connected to their existing system.</p>
<p>// ADD DIAGRAM</p>
<p>You have two following tasks:</p>
<ol>
<li>Create an architecture diagram that will extend our app to receive hundreds of receipt images in the single request, and process them fast.</li>
<li>Create an architecture diagram that will connect our extended app to clients on-premise infrastructure without crashing their database.</li>
</ol>
<blockquote>
<p><strong>IMPORTANT NOTE:</strong> This exercise does not require any coding. Creating a diagram and explaining the architecture is enough. You can try to create a code for this solution as a bonus exercise at the end of the workshop or home.</p>
</blockquote>
<h2 id="hints">Hints</h2>
<p>...</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="05-NO-LAMBDA.html" class="navigation navigation-prev " aria-label="Previous page: 05. Performance optimization - skip Lambdas">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="07-ORCHESTRATION.html" class="navigation navigation-next " aria-label="Next page: 07. Orchestration using Step functions">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"06. Serverless streaming patterns","level":"1.4.6","depth":2,"next":{"title":"07. Orchestration using Step functions","level":"1.4.7","depth":2,"path":"day-2/07-ORCHESTRATION.md","ref":"day-2/07-ORCHESTRATION.md","articles":[]},"previous":{"title":"05. Performance optimization - skip Lambdas","level":"1.4.5","depth":2,"path":"day-2/05-NO-LAMBDA.md","ref":"day-2/05-NO-LAMBDA.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["page-toc","accordion"],"pluginsConfig":{"page-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","position":"before-first","showByDefault":true},"accordion":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"day-2/06-STREAMING.md","mtime":"2020-02-18T08:46:11.930Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-02-28T08:17:42.016Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-accordion/accordionSelector.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

